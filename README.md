# Медицинская анкета

Веб-приложение для создания и управления медицинскими анкетами с двумя рабочими местами: для пациентов и врачей.

## Особенности

- **Рабочее место пациента**: Заполнение анкет с простым интерфейсом
- **Рабочее место врача**: Управление анкетами, настройки, просмотр результатов
- **Различные типы вопросов**: текстовые поля, числовые поля, выбор из списка, чекбоксы, радиокнопки
- **Система паролей**: Отдельная авторизация для пациентов и врачей
- **Хранение данных**: XML-файлы с возможностью генерации текстовых выжимок
- **Современный интерфейс**: Responsive дизайн с красивыми анимациями

## Установка и запуск

### 1. Установка зависимостей

```bash
npm install
```

### 2. Запуск сервера

```bash
npm start
```

Или для разработки с автоперезагрузкой:

```bash
npm run dev
```

### 3. Открытие в браузере

Перейдите по адресу: http://localhost:3000

## Структура проекта

```
├── server.js              # Основной сервер
├── package.json           # Зависимости проекта
├── config.json            # Настройки (пароли, сообщения)
├── public/                # Статические файлы
│   ├── index.html         # Главная страница
│   ├── patient.html       # Интерфейс пациента
│   ├── doctor.html        # Интерфейс врача
│   ├── style.css          # Стили
│   ├── patient.js         # Скрипты пациента
│   └── doctor.js          # Скрипты врача
├── templates/             # Шаблоны анкет (.templ)
├── text-templates/        # Шаблоны текстовых выжимок (.text)
└── anketa/                # Заполненные анкеты (.quest)
    └── YYYY-MM-DD/        # Папки по датам
```

## Настройка

### Пароли по умолчанию

- **Пациент**: patient123
- **Врач**: doctor123

Пароли можно изменить в рабочем месте врача в разделе "Настройки".

### Создание новых анкет

1. Создайте XML-файл шаблона в папке `templates/` с расширением `.templ`
2. Создайте соответствующий текстовый шаблон в папке `text-templates/` с расширением `.text`
3. Перезапустите сервер для применения изменений

### Пример шаблона анкеты

```xml
<?xml version="1.0" encoding="UTF-8"?>
<questionnaire>
    <title>Название анкеты</title>
    <sections>
        <section>
            <title>Раздел 1</title>
            <questions>
                <question>
                    <id>1</id>
                    <text>Текст вопроса</text>
                    <type>text</type>
                </question>
            </questions>
        </section>
    </sections>
</questionnaire>
```

### Типы вопросов

- `text` - Текстовое поле
- `number` - Числовое поле
- `textarea` - Многострочное текстовое поле
- `select` - Выпадающий список
- `radio` - Радиокнопки (один выбор)
- `checkbox` - Чекбоксы (множественный выбор)

### Дополнительные поля

Для вопросов типа `radio` и `checkbox` можно добавить дополнительные текстовые поля:

```xml
<option>
    <value>other</value>
    <text>Другое</text>
    <hasAdditionalText>true</hasAdditionalText>
</option>
```

## Использование

### Для пациентов

1. Откройте главную страницу
2. Выберите "Рабочее место пациента"
3. Введите пароль (по умолчанию: patient123)
4. Выберите анкету из списка
5. Заполните анкету
6. Нажмите "Сохранить"

### Для врачей

1. Откройте главную страницу
2. Выберите "Рабочее место врача"
3. Введите пароль (по умолчанию: doctor123)
4. Используйте главное меню для:
   - Изменения настроек
   - Заполнения анкет от имени пациента
   - Просмотра заполненных анкет

## Техническая поддержка

Приложение использует:
- Node.js + Express для сервера
- Vanilla JavaScript для клиентской части
- XML для хранения данных
- CSS Grid/Flexbox для адаптивного дизайна

Файлы анкет автоматически сохраняются в папке `anketa/` с группировкой по датам.